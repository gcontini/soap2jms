<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2016-12-17 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Gabriele Contini" />
    <meta name="Date-Creation-yyyymmdd" content="20161005" />
    <meta name="Date-Revision-yyyymmdd" content="20161217" />
    <meta http-equiv="Content-Language" content="en" />
    <title>[soap2jms] &#x2013; Design - Reliability</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <script type="text/javascript" src="./js/apache-maven-fluido-1.6.min.js"></script>
<link rel="shortcut icon" href="/favicon.ico" />
			<meta name="keywords" content="soap over jms,JMS,Soap,Integration,messaging,SOA,Open Source"></meta>
			<meta name="description"
				content="Access a JMS queue through a SOAP over HTTP web service."></meta>
			<script type="text/javascript">
				  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
				  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
				  ga('create', 'UA-88469808-1', 'auto');
				  ga('send', 'pageview');
  			</script>
      </head>
    <body class="topBarDisabled">
      <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><a href="https://jbricks.github.com/soap2jms/index.html" id="bannerLeft"><img src="img/soap2jms-banner.png"  alt="[soap over jms]"/></a></div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2016-12-17<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 0.0.2-SNAPSHOT<span class="divider">|</span></li>
        <li class=""><a href="index.html" title="Soap To Jms">Soap To Jms</a><span class="divider">/</span></li>
    <li class="active ">Design - Reliability</li>
      <li class="pull-right"><a href="https://github.com/jbricks/soap2jms" class="externalLink" title="Github project">Github project</a></li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
          <li class="nav-header">Community</li>
    <li><a href="https://github.com/jbricks/soap2jms" class="externalLink" title="GitHub Project"><span class="none"></span>GitHub Project</a>  </li>
    <li><a href="team-list.html" title="Team"><span class="none"></span>Team</a>  </li>
          <li class="nav-header">Documents</li>
    <li><a href="deploy.html" title="Deploy"><span class="none"></span>Deploy</a>  </li>
    <li class="active"><a href="#"><span class="none"></span>Design</a>
  </li>
    <li><a href="license.html" title="License (MIT)"><span class="none"></span>License (MIT)</a>  </li>
  </ul>
          <hr />
          <div id="poweredBy">
          <script type="text/javascript">asyncJs( 'https://apis.google.com/js/plusone.js' )</script>
        <div class="g-plusone" data-href="https://jbricks.github.io/soap2jms" data-size="tall" ></div>
                  <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span7" >

	
		<div class="section">
<h2><a name="Reliability"></a>Reliability</h2>
			
<p>
				When implementing Soap2Jms a special attention has been placed to
				reliability (the ability of the system to deliver messages over the
				time) and resilience to temporary network failures. 
				JMS has built-in error recovery features, implementing the
				same feature using SOAP over HTTP requires extra coding effort.
			</p>
			
<div class="section">
<h3><a name="Sending_messages_to_a_queue"></a>Sending messages to a queue</h3>
				
<p>
					A good reading on message sending can be found in the
					<a class="externalLink" href="https://activemq.apache.org/artemis/docs/1.0.0/duplicate-detection.html">ActiveMQ guide</a>
					.
					Below an extract of the most important part:
				</p>
				
<blockquote>
					
<p>When sending messages from a client to a server, if the target
						server or connection fails sometime after sending the message, but
						before the sender receives a response that the send (or commit)
						was processed successfully then the sender cannot know for sure if
						the message was sent successfully to the address.
					</p>
					
<p>If the target server or connection failed after the send was
						received and processed but before the response was sent back then
						the message will have been sent to the address successfully, but
						if the target server or connection failed before the send was
						received
						and finished processing then it will not have been sent to
						the address successfully. From the senders point of view it's not
						possible to distinguish these two cases.
					</p>
					
<p>
						When the server recovers this leaves the client in a difficult
						situation. It knows the target server failed, but it does not know
						if the last message reached its destination ok. If it decides to
						resend the last message, then that could result in a duplicate
						message being sent to the address.
					</p>
				</blockquote>
				
<p>
					What has been implemented in Soap2Jms is an Enterprise Pattern
					called
					<a class="externalLink" href="http://www.enterpriseintegrationpatterns.com/patterns/messaging/IdempotentReceiver.html">
						Idempotent Receiver
					</a>
					.
					The client can resend the message and only one copy will be placed
					in the destination queue.
				</p>
			</div>
			
<div class="section">
<h3><a name="Duplicate_message_detection"></a>Duplicate message detection</h3>
				
<p>
					What we try to acheive is that each message is put exaclty once
					in the destination queue.
				</p>
				
<p>TODO: client generated id. Automatic generated id.</p>
			</div>
			
<div class="section">
<h3><a name="References"></a>References</h3>
				
<ul>
					
<li>Brewer's theorem: https://en.wikipedia.org/wiki/CAP_theorem
					</li>
				</ul>
			</div>
		</div>
	

        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2016.
All rights reserved.</p>
        </div>
                          <div id="ohloh" class="pull-right">
      <script type="text/javascript" src="https://www.ohloh.net/p/soap2jms/widgets/project_factoids.js"></script>
    </div>
        </div>
    </footer>
    </body>
</html>
